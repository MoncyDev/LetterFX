window.LetterFX=class{constructor(t,e={}){this.textElement=document.querySelectorAll(t),this.delay=e.delay||40,this.clip=e.clip||!1,this.transition=e.transition||500,this.easing=e.easing||"cubic-bezier(0.09, 1.01, 0.68, 1.16)",this.pause=e.pause||!1,this.loop=e.loop||!1,this.animateIn=e.animateIn||"translateY(100%)",this.animateOut=e.animateOut||"translateY(-100%)",this.interval=e.interval||4e3,this.opacity=e.opacity||0,this.blur=e.blur||"0px",this.timeouts=[],this.init()}init(){this.textElement&&(this.updateTexts(),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)))}updateTexts(){this.textElement.forEach((t=>{t.style.display="flex",t.style.flexWrap="wrap";const e=this.getWordSpacing(t);t.style.columnGap=`${e}px`;const s=(t.textContent||"").split(/\s+/);let i=0;t.innerHTML="",s.forEach((e=>{const s=document.createElement("div");s.className="lbl-word",s.style.display="flex",e.split("").forEach((t=>{const e=document.createElement("div"),n=document.createElement("span");e.className="lbl-div",e.style.display="flex",n.className="letter-lbl",n.textContent=" "===t?"Â ":t,s.appendChild(e),e.appendChild(n),this.clip&&(e.style.overflow="hidden"),this.setTransition(n,i,this.transition),i++,this.pause||(this.loop?this.animateLoop(n,i):(n.style.transform=this.animateIn,this.setAnimStyles(n),setTimeout((()=>{this.setDefaultStyles(n)}),100)))})),t.appendChild(s)}))}))}setDefaultStyles(t){t.style.transform="translate(0,0)",t.style.filter="blur(0px)",t.style.opacity=1}setAnimStyles(t){t.style.filter=`blur(${this.blur})`,t.style.opacity=this.opacity}getWordSpacing(t){const e=window.getComputedStyle(t),s=e.getPropertyValue("word-spacing");return s&&"normal"!==s&&0!==parseFloat(s)?parseFloat(s):.3*parseFloat(e.getPropertyValue("font-size"))}animateLoop(t,e){let s=this.interval;const i=()=>{t.style.transition=`${this.transition}ms ${this.easing}`,this.setDefaultStyles(t);const e=setTimeout((()=>{t.style.transform=this.animateOut,this.setAnimStyles(t);const e=setTimeout((()=>{t.style.transition="none",t.style.transform=this.animateIn,this.setAnimStyles(t);const e=setTimeout((()=>{t.style.transition=`${this.transition}ms ${this.easing}`,i()}),this.delay);this.timeouts.push(e)}),s/2);this.timeouts.push(e)}),s);this.timeouts.push(e)};setTimeout(i,e*this.delay)}setTransition(t,e,s){t.style.transition=s+"ms",t.style.transitionTimingFunction=`${this.easing}`,t.style.transitionDelay=e*this.delay+"ms"}handleVisibilityChange(){this.loop&&("hidden"===document.visibilityState?this.pauseAnimations():this.resumeAnimations())}pauseAnimations(){this.timeouts.forEach((t=>clearTimeout(t))),this.timeouts=[],this.textElement.forEach((t=>{t.querySelectorAll(".letter-lbl").forEach((t=>{t.style.transition="none",this.setDefaultStyles(t)}))}))}resumeAnimations(){this.textElement.forEach((t=>{const e=t.querySelectorAll(".letter-lbl");let s=0;e.forEach((t=>{this.setTransition(t,s,this.transition),this.animateLoop(t,s),s++}))}))}start(){this.pause=!1,this.updateTexts()}};